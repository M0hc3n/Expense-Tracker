{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/TRETEC/Desktop/Software Engineering/Tp/code/Expense Tracker Website/light-bootstrap-dashboard-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"C:/Users/TRETEC/Desktop/Software Engineering/Tp/code/Expense Tracker Website/light-bootstrap-dashboard-react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/TRETEC/Desktop/Software Engineering/Tp/code/Expense Tracker Website/light-bootstrap-dashboard-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/TRETEC/Desktop/Software Engineering/Tp/code/Expense Tracker Website/light-bootstrap-dashboard-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{AuthContext}from\"context/AuthContext\";import{db}from\"database/firebase\";import{collection,getDocs,query,where}from\"firebase/firestore\";import React,{useContext,useEffect,useState}from\"react\";// react-bootstrap components\nimport{Card,Table,Container,Row,Col}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function TableList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),subUsers=_useState2[0],setSubUsers=_useState2[1];var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;useEffect(function(){try{var q=query(collection(db,\"users\"),where(\"user_id\",\"==\",currentUser.uid),where('activated','==',true));setSubUsers([]);getDocs(q).then(function(querySnapshot){querySnapshot.forEach(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(docSnapshot){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setSubUsers(function(oldVal){return[].concat(_toConsumableArray(oldVal),[docSnapshot.data()]);});case 1:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());});}catch(error){console.log(error);}},[currentUser]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(Card,{className:\"strpied-tabled-with-hover\",children:[/*#__PURE__*/_jsxs(Card.Header,{children:[/*#__PURE__*/_jsx(Card.Title,{as:\"h4\",children:\"List of Sub Users\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-category\",children:\"Check Data about all the subusers\"})]}),/*#__PURE__*/_jsx(Card.Body,{className:\"table-full-width table-responsive px-0\",children:/*#__PURE__*/_jsxs(Table,{className:\"table-hover table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"border-0\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border-0\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border-0\",children:\"Income\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border-0\",children:\"Country\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border-0\",children:\"City\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:subUsers.map(function(subuser,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:subuser.fullName}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$ \",subuser.income]}),/*#__PURE__*/_jsx(\"td\",{children:subuser.country}),/*#__PURE__*/_jsx(\"td\",{children:subuser.city})]},index);})})]})})]})})})})});}export default TableList;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}