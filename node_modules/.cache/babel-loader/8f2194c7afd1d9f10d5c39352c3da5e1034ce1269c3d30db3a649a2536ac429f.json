{"ast":null,"code":"import _toConsumableArray from\"C:/Users/TRETEC/Desktop/Software Engineering/Tp/code/Expense Tracker Website/light-bootstrap-dashboard-react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/TRETEC/Desktop/Software Engineering/Tp/code/Expense Tracker Website/light-bootstrap-dashboard-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{AuthContext}from\"context/AuthContext\";import{db}from\"database/firebase\";import{collection,getDocs,orderBy,query,where}from\"firebase/firestore\";import React,{useContext,useEffect,useState}from\"react\";// react-bootstrap components\nimport{Card,Table,Container,Row,Col}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function TableList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),expenses=_useState2[0],setExpenses=_useState2[1];var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;useEffect(function(){try{var q=query(collection(db,\"Expenses\"),where(\"user_id\",\"==\",currentUser.uid),orderBy(\"created_at\",\"desc\"));getDocs(q).then(function(querySnapshot){setExpenses([]);querySnapshot.forEach(function(docSnapshot){setExpenses(function(oldVal){return[].concat(_toConsumableArray(oldVal),[docSnapshot.data()]);});});});}catch(error){console.log(error);}},[currentUser]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(Card,{className:\"strpied-tabled-with-hover\",children:[/*#__PURE__*/_jsxs(Card.Header,{children:[/*#__PURE__*/_jsx(Card.Title,{as:\"h4\",children:\"List of Expenses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-category\",children:\"See detailed information about what you have spent\"})]}),/*#__PURE__*/_jsx(Card.Body,{className:\"table-full-width table-responsive px-0\",children:/*#__PURE__*/_jsxs(Table,{className:\"table-hover table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"border-0\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border-0\",children:\"Expense Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border-0\",children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border-0\",children:\"Total Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border-0\",children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:expenses.map(function(expense,index){var _expense$created_at$s=expense.created_at.split(\" \"),_expense$created_at$s2=_slicedToArray(_expense$created_at$s,2),datePart=_expense$created_at$s2[0],timePart=_expense$created_at$s2[1];// split date and time parts\nvar _datePart$split$map=datePart.split(\"-\").map(Number),_datePart$split$map2=_slicedToArray(_datePart$split$map,3),year=_datePart$split$map2[0],month=_datePart$split$map2[1],day=_datePart$split$map2[2];// split date part into year, month, and day\nvar _timePart$split$map=timePart.split(\":\").map(Number),_timePart$split$map2=_slicedToArray(_timePart$split$map,3),hours=_timePart$split$map2[0],minutes=_timePart$split$map2[1],seconds=_timePart$split$map2[2];// split time part into hours, minutes, and seconds\nvar monthNames=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];var monthName=monthNames[month-1];var formattedDate=\"\".concat(monthName,\" \").concat(day,\", \").concat(year,\" at \").concat(hours,\":\").concat(minutes,\":\").concat(seconds);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:expense.expenseName}),/*#__PURE__*/_jsx(\"td\",{children:expense.expenseCategory}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$ \",expense.expenseTotalPrice]}),/*#__PURE__*/_jsx(\"td\",{children:formattedDate})]},index);})})]})})]})})})})});}export default TableList;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}